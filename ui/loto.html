<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, interactive-widget=resizes-content">
    <title>G√©n√©rateur de Grilles Loto IA - Analyse Statistique | LotoIA</title>
    <meta name="description" content="G√©n√©rez des grilles Loto optimis√©es gr√¢ce √† notre moteur HYBRIDE_OPTIMAL_V1. Analyse de 979+ tirages historiques FDJ pour des combinaisons statistiquement √©quilibr√©es.">
    <meta name="keywords" content="g√©n√©rateur loto, grille loto IA, moteur HYBRIDE, HYBRIDE_OPTIMAL_V1, analyse statistique loto, num√©ros loto, tirages FDJ">
    <link rel="canonical" href="https://lotoia.fr/loto">
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="LotoIA">
    <meta property="og:locale" content="fr_FR">
    <meta property="og:title" content="G√©n√©rateur de Grilles Loto IA | LotoIA">
    <meta property="og:description" content="G√©n√©rez des grilles Loto optimis√©es avec le moteur HYBRIDE_OPTIMAL_V1. Analyse de 979+ tirages historiques FDJ.">
    <meta property="og:url" content="https://lotoia.fr/loto">
    <meta property="og:image" content="https://lotoia.fr/static/og-image.jpg">
    <meta property="og:image:secure_url" content="https://lotoia.fr/static/og-image.jpg">
    <meta property="og:image:type" content="image/jpeg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="G√©n√©rateur de Grilles Loto IA | LotoIA">
    <meta name="twitter:description" content="G√©n√©rez des grilles Loto optimis√©es avec le moteur HYBRIDE_OPTIMAL_V1 bas√© sur 979+ tirages FDJ.">
    <meta name="twitter:image" content="https://lotoia.fr/static/og-image.jpg">
    <!-- JSON-LD Schema.org -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "LotoIA - G√©n√©rateur de Grilles",
      "url": "https://lotoia.fr/loto",
      "description": "G√©n√©rateur de grilles Loto optimis√©es par analyse statistique et IA",
      "applicationCategory": "UtilitiesApplication",
      "operatingSystem": "Web",
      "featureList": ["G√©n√©ration de grilles", "Analyse statistique", "Num√©ros chauds/froids", "Indice de convergence"],
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "EUR"
      }
    }
    </script>
    <link rel="stylesheet" href="/ui/static/style.css?v=7">
    <link rel="stylesheet" href="/ui/static/sponsor-popup.css?v=7">
    <link rel="stylesheet" href="/ui/static/sponsor-popup75.css?v=7">
    <link rel="stylesheet" href="/ui/static/meta-result.css?v=7">
    <link rel="stylesheet" href="/ui/static/legal.css?v=7">
    <!-- Theme script (en premier pour √©viter le flash) -->
    <script src="/ui/static/theme.js?v=7"></script>
    <!-- Analytics (charge apres consentement RGPD) -->
    <script src="/ui/static/analytics.js?v=7" defer></script>
    <script defer src="https://cloud.umami.is/script.js" data-website-id="e6add519-5d39-42cd-b4bf-b795f4408dcc"></script>
</head>
<body class="loto-page">
    <!-- Barre de navigation moteur -->
    <nav class="engine-nav-subpage">
        <a href="/accueil" class="engine-nav-btn">
            <span class="nav-arrow">‚Üê</span>
            <span class="nav-text">Accueil LotoIA</span>
        </a>
        <div class="engine-nav-right">
            <span class="engine-badge">Loto France</span>
            <button id="theme-switch" class="theme-switch" title="Changer de th√®me">
                <span class="icon-day">‚òÄÔ∏è</span>
                <span class="icon-night">üåô</span>
            </button>
        </div>
    </nav>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         HERO ‚Äî Pattern align√© sur accueil (centr√©, hi√©rarchie claire)
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <header class="page-header loto-hero-header">
        <div class="header-content">
            <h1><span>üß†</span> Exploration de grilles</h1>
            <p class="subtitle">Analyse statistique bas√©e sur les tirages officiels FDJ</p>
            <div class="loto-hero-actions">
                <a href="/simulateur" class="loto-hero-btn">
                    <span class="loto-hero-btn-icon">üéØ</span>
                    Auditer une grille
                </a>
                <a href="#generator" class="loto-hero-btn loto-hero-btn-active">
                    <span class="loto-hero-btn-icon">üß†</span>
                    Explorer des grilles
                </a>
                <a href="/statistiques" class="loto-hero-btn">
                    <span class="loto-hero-btn-icon">üìä</span>
                    Voir les statistiques
                </a>
            </div>
        </div>
    </header>

    <div class="loto-container">

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             ZONE PRIMAIRE - GENERATEUR (√©tape secondaire apr√®s choix hero)
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="generator" class="generator-hero">
            <!-- Effets visuels data/algorithme -->
            <div class="scan-line"></div>
            <div class="data-particles">
                <span class="particle p1"></span>
                <span class="particle p2"></span>
                <span class="particle p3"></span>
                <span class="particle p4"></span>
                <span class="particle p5"></span>
                <span class="particle p6"></span>
                <span class="particle p7"></span>
                <span class="particle p8"></span>
            </div>
            <div class="generator-card">
                <!-- Header du generateur (centr√©, align√© pattern accueil) -->
                <div class="generator-header">
                    <div class="generator-badge">
                        <span class="badge-icon">üß†</span>
                        <span class="badge-text">MOTEUR HYBRIDE_OPTIMAL_V1</span>
                    </div>
                    <p class="generator-subtitle">Configurez votre exploration sur <strong id="stat-tirages-inline">967</strong> tirages officiels FDJ <span class="data-depth">depuis 2019</span></p>
                    <img src="/static/hybride-moteur.png" class="band-hybride-moteur" alt="Mascotte HYBRIDE - Moteur d'analyse statistique du Loto">
                </div>

                <!-- Formulaire (√©tape secondaire) -->
                <div class="generator-form">
                    <div class="form-group">
                        <label for="draw-date">üìÖ Date du prochain tirage</label>
                        <input type="date" id="draw-date" class="premium-input">
                        <div id="date-error" class="date-error" style="display: none; color: #d32f2f; margin-top: 8px; font-size: 14px; font-weight: 500;"></div>
                    </div>

                    <div class="form-group">
                        <label>üé≤ Nombre de grilles √† g√©n√©rer</label>
                        <div class="grid-count-selector" id="grid-count-selector">
                            <button class="count-btn" data-count="1">1</button>
                            <button class="count-btn" data-count="2">2</button>
                            <button class="count-btn active" data-count="3">3</button>
                            <button class="count-btn" data-count="4">4</button>
                            <button class="count-btn" data-count="5">5</button>
                        </div>
                        <small class="helper-text">Recommand√© : 3 grilles pour comparer diff√©rentes combinaisons</small>
                    </div>

                    <!-- CTA Secondaire ‚Äî G√©n√©rer (outline vert) -->
                    <button id="btn-analyze" class="btn-cta-main" style="background: transparent; color: #10b981; border: 2px solid #10b981; box-shadow: 0 1px 4px rgba(16,185,129,0.08); padding: 13px 28px; font-size: 17px;">
                        <span class="cta-icon">‚ú®</span>
                        <span class="cta-text">G√©n√©rer mes grilles</span>
                        <span class="cta-arrow">‚Üí</span>
                        <span class="spinner" style="display: none;"></span>
                    </button>

                    <!-- Slider Fen√™tre d'Analyse META DATA -->
                    <div class="meta-window-selector" id="meta-window-container">
                        <label class="meta-window-label">Fen√™tre d'analyse</label>

                        <!-- Toggle Tirages / Ann√©es -->
                        <div class="meta-mode-toggle" id="meta-mode-toggle">
                            <button type="button" class="meta-mode-btn active" data-mode="tirages">Tirages</button>
                            <button type="button" class="meta-mode-btn" data-mode="annees">Ann√©es</button>
                        </div>

                        <!-- Slider Mode Tirages -->
                        <div class="meta-window-slider-wrapper" id="meta-slider-tirages">
                            <input type="range" id="meta-window-slider" class="meta-window-slider"
                                   min="0" max="8" step="1" value="8">
                            <div class="meta-window-ticks">
                                <span>100</span>
                                <span>200</span>
                                <span>300</span>
                                <span>400</span>
                                <span>500</span>
                                <span>600</span>
                                <span>700</span>
                                <span>800</span>
                                <span>GLOBAL</span>
                            </div>
                        </div>

                        <!-- Slider Mode Ann√©es -->
                        <div class="meta-window-slider-wrapper" id="meta-slider-annees" style="display: none;">
                            <input type="range" id="meta-years-slider" class="meta-window-slider"
                                   min="0" max="6" step="1" value="6">
                            <div class="meta-window-ticks">
                                <span>1A</span>
                                <span>2A</span>
                                <span>3A</span>
                                <span>4A</span>
                                <span>5A</span>
                                <span>6A</span>
                                <span>GLOBAL</span>
                            </div>
                        </div>

                        <div class="meta-window-info" id="meta-window-info">
                            <span class="meta-window-count">Analyse sur l'int√©gralit√© de la base</span>
                            <span class="meta-window-dates">Nov 2019 ‚Üí Aujourd'hui</span>
                        </div>

                        <p class="meta-slider-info" style="font-size:0.85rem; color:#6b7280; text-align:center; margin-top:8px; opacity:0.9;">
                            üîç Ce r√©glage s'applique uniquement √† l'analyse META DONN√âE.
                        </p>

                        <!-- CTA Meta Data ‚Äî action principale de la fen√™tre -->
                        <button id="btn-metadata-75" class="btn-cta-secondary" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: #fff; border: none; padding: 18px 28px; font-size: 17px; font-weight: 700; border-radius: 14px; box-shadow: 0 6px 20px rgba(16,185,129,0.35); letter-spacing: 0.3px;">
                            <span>üìä</span>
                            <span>Analyser avec META (75 grilles)</span>
                        </button>
                    </div>

                    <p class="cta-subtext">Analyse instantan√©e ‚Ä¢ Indice de convergence ‚Ä¢ 100% gratuit</p>

                    <!-- Info prochain tirage -->
                    <p class="cta-urgency" id="next-draw-urgency">
                        <span class="urgency-icon">‚è±Ô∏è</span>
                        <span class="urgency-text">Prochain tirage dans <strong id="days-until-draw">2</strong> jours</span>
                    </p>
                </div>
            </div>
        </section>

        <!-- Section stats rapides (cachee) -->
        <button id="btn-stats" class="btn btn-tertiary" style="display: none;">
            <span class="btn-text">üìä Voir statistiques</span>
            <span class="spinner" style="display: none;"></span>
        </button>

        <!-- Section 3: Results -->
        <section id="results-section" class="results-section" style="display: none;">
            <!-- Success State -->
            <div id="success-state" style="display: none;">
                <div class="card result-card">
                    <div class="card-header">
                        <h2 id="result-title">R√©sultat</h2>
                        <button id="btn-copy" class="btn-copy" title="Copier">üìã</button>
                    </div>

                    <!-- Numbers Grid -->
                    <div id="numbers-grid" class="numbers-grid"></div>

                    <!-- Key Info -->
                    <div id="key-info" class="key-info"></div>

                    <!-- Section Explications -->
                    <div id="explanations-section" style="display: none;"></div>
                </div>
            </div>

            <!-- Error State -->
            <div id="error-state" class="card error-card" style="display: none;">
                <h3>Une erreur est survenue</h3>
                <p id="error-message"></p>
            </div>
        </section>

        <!-- (Hub outils d√©plac√© en haut de page) -->

        <!-- Section 4: Gestion des donn√©es (masqu√©e ‚Äî IDs requis par app.js) -->
        <details style="display: none;">
            <summary style="cursor: pointer; padding: 12px; background: var(--bg-white); border-radius: 8px; font-weight: 600; color: var(--text-muted); margin-bottom: 16px;">
                ‚öôÔ∏è Gestion des donn√©es
            </summary>

            <!-- Installation Base de donn√©es -->
            <section class="card install-section">
                <h2>Base de donn√©es</h2>
                <p class="system-description">
                    Initialise la base de donn√©es si elle n'existe pas encore.
                </p>

                <!-- Statut de la base -->
                <div id="db-status" class="db-status">
                    <span class="status-icon">‚è≥</span>
                    <div class="status-text">
                        <div id="db-main-status">V√©rification en cours...</div>
                        <div id="db-period" style="display:none;"></div>
                        <div id="db-algo-note" style="display:none; font-style: italic;"></div>
                    </div>
                </div>

                <!-- Boutons d'installation -->
                <div class="install-buttons">
                    <button id="btn-install" class="btn btn-install">
                        <span class="btn-text">Installer la base de donn√©es</span>
                        <span class="spinner" style="display: none;"></span>
                    </button>
                    <button id="btn-reset" class="btn btn-reset" style="display: none;">
                        <span class="btn-text">R√©initialiser la base</span>
                        <span class="spinner" style="display: none;"></span>
                    </button>
                </div>

                <!-- Message de statut -->
                <div id="install-status" class="install-status" style="display: none;"></div>
            </section>

            <!-- Mise √† jour -->
            <section class="card system-section">
                <h2>Mise √† jour</h2>
                <p class="system-description">
                    Synchronise les donn√©es avec les tirages officiels les plus r√©cents.
                </p>
                <button id="btn-update" class="btn btn-system">
                    <span class="btn-text">Mettre √† jour les donn√©es</span>
                    <span class="spinner" style="display: none;"></span>
                </button>
                <!-- Message de statut de mise √† jour -->
                <div id="update-status" class="update-status" style="display: none;"></div>
            </section>
        </details>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             MINI-FAQ - Questions essentielles (3 max)
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section class="mini-faq-section" id="faq">
            <div class="mini-faq-header">
                <h3>Questions fr√©quentes</h3>
                <p>Les r√©ponses aux questions essentielles</p>
            </div>

            <div class="mini-faq-container">
                <!-- Question 1 -->
                <div class="faq-item">
                    <button class="faq-question">
                        <span>Comment fonctionne le g√©n√©rateur ?</span>
                        <span class="faq-icon">+</span>
                    </button>
                    <div class="faq-answer">
                        <p>Notre g√©n√©rateur utilise le <strong>moteur HYBRIDE_OPTIMAL_V1</strong> qui analyse <span class="dynamic-tirages">967</span> tirages historiques FDJ.</p>
                        <p>Il combine analyse long terme (60%) et tendances r√©centes (40%) pour g√©n√©rer des grilles statistiquement √©quilibr√©es avec un indice de convergence.</p>
                    </div>
                </div>

                <!-- Question 2 -->
                <div class="faq-item">
                    <button class="faq-question">
                        <span>Le Loto est-il pr√©visible ?</span>
                        <span class="faq-icon">+</span>
                    </button>
                    <div class="faq-answer">
                        <p><strong>NON, le Loto est un jeu de pur hasard.</strong> Aucun algorithme ne peut pr√©dire les r√©sultats.</p>
                        <p>Notre outil propose des grilles <strong>statistiquement guid√©es</strong>, mais cela <strong>ne garantit AUCUN gain</strong>. Probabilit√© du jackpot : 1 sur 19 068 840.</p>
                    </div>
                </div>

                <!-- Question 3 -->
                <div class="faq-item">
                    <button class="faq-question">
                        <span>L'outil est-il gratuit ?</span>
                        <span class="faq-icon">+</span>
                    </button>
                    <div class="faq-answer">
                        <p>Oui, LotoIA est <strong>100% gratuit</strong> et sans publicit√© intrusive.</p>
                        <p>Aucune inscription ni paiement requis. Toutes les fonctionnalit√©s sont accessibles.</p>
                    </div>
                </div>
            </div>

            <!-- Lien vers FAQ complete -->
            <div class="mini-faq-footer">
                <a href="/faq" class="btn-see-more">
                    <span>Voir toutes les questions</span>
                    <span class="arrow">‚Üí</span>
                </a>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <!-- Navigation footer -->
            <div class="footer-nav">
                <a href="/">Moteurs</a>
                <span class="footer-sep">‚Ä¢</span>
                <a href="/accueil">Accueil</a>
                <span class="footer-sep">‚Ä¢</span>
                <a href="/simulateur">Analyse</a>
                <span class="footer-sep">‚Ä¢</span>
                <a href="/loto" class="active">Exploration</a>
                <span class="footer-sep">‚Ä¢</span>
                <a href="/statistiques">Statistiques</a>
                <span class="footer-sep">‚Ä¢</span>
                <a href="/news">Actualit√©s</a>
                <span class="footer-sep">‚Ä¢</span>
                <a href="/faq">FAQ</a>
            </div>

            <!-- Liens juridiques -->
            <div class="footer-legal">
                <a href="/mentions-legales">Mentions l√©gales</a>
                <span class="footer-sep">‚Ä¢</span>
                <a href="/politique-confidentialite">Confidentialit√©</a>
                <span class="footer-sep">‚Ä¢</span>
                <a href="/politique-cookies">Cookies</a>
                <span class="footer-sep">‚Ä¢</span>
                <a href="/disclaimer">Avertissements</a>
            </div>

            <p class="footer-brand">LotoIA.fr v1.0</p>

            <!-- Avertissement jeu responsable -->
            <p class="footer-disclaimer">Jouer comporte des risques : endettement, isolement, d√©pendance. Appelez le 09 74 75 13 13 (appel non surtax√©).</p>
            <p class="footer-help">Interdiction de jeu aux mineurs. <a href="https://www.joueurs-info-service.fr" target="_blank" rel="noopener">Joueurs Info Service</a></p>

            <!-- Credits -->
            <div class="credits">
                <p class="dev-by">D√©velopp√© par <strong>JyppY</strong></p>
            </div>
        </footer>
    </div>

    <!-- Bouton Scroll to Top -->
    <button id="scroll-to-top" class="scroll-to-top" aria-label="Retour en haut">
        ‚Üë
    </button>

    <!-- META ANALYSE 75 Grilles - G√©r√© par sponsor-popup75.js -->
    <script src="/ui/static/sponsor-popup.js?v=7"></script>
    <script src="/ui/static/sponsor-popup75.js?v=9"></script>
    <script>
    // Variables globales pour la fen√™tre d'analyse META
    var metaWindowSize = "GLOBAL";
    var metaYearsSize = null;  // null = mode tirages, sinon valeur ann√©es
    var metaCurrentMode = "tirages";  // "tirages" ou "annees"

    // Mappings sliders discrets
    var META_WINDOW_MAP = [100, 200, 300, 400, 500, 600, 700, 800, "GLOBAL"];
    var META_YEARS_MAP = [1, 2, 3, 4, 5, 6, "GLOBAL"];

    // Formatage date en fran√ßais (JJ/MM/AAAA)
    function formatDateFR(dateStr) {
        if (!dateStr || dateStr === '---') return '---';
        try {
            var d = new Date(dateStr);
            return d.toLocaleDateString('fr-FR', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            });
        } catch (e) {
            return dateStr;
        }
    }

    (function() {
        // === √âl√©ments DOM ===
        var toggleContainer = document.getElementById('meta-mode-toggle');
        var sliderTirages = document.getElementById('meta-slider-tirages');
        var sliderAnnees = document.getElementById('meta-slider-annees');
        var windowSlider = document.getElementById('meta-window-slider');
        var yearsSlider = document.getElementById('meta-years-slider');
        var infoContainer = document.getElementById('meta-window-info');

        if (!toggleContainer || !infoContainer) return;

        var countEl = infoContainer.querySelector('.meta-window-count');
        var datesEl = infoContainer.querySelector('.meta-window-dates');
        var toggleBtns = toggleContainer.querySelectorAll('.meta-mode-btn');

        // === Donn√©es locales fen√™tre d'analyse (fallback, √©cras√©es par API) ===
        var windowInfoTirages = {
            100: { draws: 100, start: "2024-10-05", end: "2026-02-04" },
            200: { draws: 200, start: "2023-06-07", end: "2026-02-04" },
            300: { draws: 300, start: "2022-02-19", end: "2026-02-04" },
            400: { draws: 400, start: "2021-10-09", end: "2026-02-04" },
            500: { draws: 500, start: "2021-04-10", end: "2026-02-04" },
            600: { draws: 600, start: "2020-10-10", end: "2026-02-04" },
            700: { draws: 700, start: "2020-04-04", end: "2026-02-04" },
            800: { draws: 800, start: "2019-11-06", end: "2026-02-04" },
            GLOBAL: { draws: 979, start: "2019-11-06", end: "2026-02-04" }
        };

        // === Fonction de mise √† jour pour le mode TIRAGES ===
        function updateTiragesDisplay(value) {
            var windowValue = META_WINDOW_MAP[value];
            metaWindowSize = windowValue === "GLOBAL" ? "GLOBAL" : String(windowValue);
            metaYearsSize = null;

            if (windowValue === "GLOBAL") {
                var globalInfo = windowInfoTirages["GLOBAL"];
                countEl.textContent = "Analyse sur l'int√©gralit√© de la base (" + globalInfo.draws + " tirages)";
                datesEl.textContent = "Du " + formatDateFR(globalInfo.start) + " au " + formatDateFR(globalInfo.end);
            } else {
                countEl.textContent = "Analyse sur " + windowValue + " tirages";
                var info = windowInfoTirages[windowValue];
                if (info) {
                    datesEl.textContent = "Du " + formatDateFR(info.start) + " au " + formatDateFR(info.end);
                } else {
                    datesEl.textContent = "";
                }
            }
        }

        // === Donn√©es locales fen√™tre d'analyse ann√©es (fallback, √©cras√©es par API) ===
        var windowInfoAnnees = {
            1: { draws: 156, start: "2025-02-08", end: "2026-02-04" },
            2: { draws: 313, start: "2024-02-07", end: "2026-02-04" },
            3: { draws: 469, start: "2023-02-08", end: "2026-02-04" },
            4: { draws: 625, start: "2022-02-09", end: "2026-02-04" },
            5: { draws: 782, start: "2021-02-06", end: "2026-02-04" },
            6: { draws: 938, start: "2020-02-08", end: "2026-02-04" },
            GLOBAL: { draws: 979, start: "2019-11-06", end: "2026-02-04" }
        };

        // === Chargement dynamique des fen√™tres depuis la BDD ===
        fetch('/api/meta-windows-info')
            .then(function(res) { return res.json(); })
            .then(function(data) {
                if (data.tirages) {
                    windowInfoTirages = data.tirages;
                }
                if (data.annees) {
                    windowInfoAnnees = data.annees;
                }
                // Rafra√Æchir l'affichage du slider actif
                if (metaCurrentMode === 'tirages' && windowSlider) {
                    updateTiragesDisplay(windowSlider.value);
                } else if (metaCurrentMode === 'annees' && yearsSlider) {
                    updateAnneesDisplay(yearsSlider.value);
                }
            })
            .catch(function() { /* fallback hardcod√© d√©j√† en place */ });

        // === Fonction de mise √† jour pour le mode ANN√âES ===
        function updateAnneesDisplay(value) {
            var yearsValue = META_YEARS_MAP[value];
            metaYearsSize = yearsValue === "GLOBAL" ? "GLOBAL" : String(yearsValue);
            metaWindowSize = "GLOBAL";  // Reset tirages

            if (yearsValue === "GLOBAL") {
                var globalInfoA = windowInfoAnnees["GLOBAL"];
                countEl.textContent = "Analyse sur l'int√©gralit√© de la base (" + globalInfoA.draws + " tirages)";
                datesEl.textContent = "Du " + formatDateFR(globalInfoA.start) + " au " + formatDateFR(globalInfoA.end);
            } else {
                var info = windowInfoAnnees[yearsValue];
                var nbTirages = info ? info.draws : "?";
                countEl.textContent = "Analyse sur " + yearsValue + " an" + (yearsValue > 1 ? "s" : "") + " (" + nbTirages + " tirages)";
                if (info) {
                    datesEl.textContent = "Du " + formatDateFR(info.start) + " au " + formatDateFR(info.end);
                } else {
                    datesEl.textContent = "";
                }
            }
        }

        // === Gestion du toggle de mode ===
        toggleBtns.forEach(function(btn) {
            btn.addEventListener('click', function() {
                var mode = this.getAttribute('data-mode');
                if (mode === metaCurrentMode) return;

                metaCurrentMode = mode;

                // Mise √† jour UI toggle
                toggleBtns.forEach(function(b) { b.classList.remove('active'); });
                this.classList.add('active');

                // Afficher/masquer le bon slider
                if (mode === "tirages") {
                    sliderTirages.style.display = "block";
                    sliderAnnees.style.display = "none";
                    updateTiragesDisplay(parseInt(windowSlider.value, 10));
                } else {
                    sliderTirages.style.display = "none";
                    sliderAnnees.style.display = "block";
                    updateAnneesDisplay(parseInt(yearsSlider.value, 10));
                }
            });
        });

        // === √âv√©nement changement slider tirages ===
        if (windowSlider) {
            windowSlider.addEventListener('input', function() {
                updateTiragesDisplay(parseInt(this.value, 10));
            });
            windowSlider.value = 8;
        }

        // === √âv√©nement changement slider ann√©es ===
        if (yearsSlider) {
            yearsSlider.addEventListener('input', function() {
                updateAnneesDisplay(parseInt(this.value, 10));
            });
            yearsSlider.value = 6;
        }

        // Initialiser avec mode tirages + GLOBAL
        updateTiragesDisplay(8);

        // === Bouton META DATA ===
        var btn = document.getElementById('btn-metadata-75');
        if (!btn) return;
        btn.addEventListener('click', function(e) {
            e.preventDefault();

            // EVENT 1 - Clic bouton META
            if (window.LotoIAAnalytics?.productEngine?.track) {
                window.LotoIAAnalytics.productEngine.track('meta_click', {
                    version: 75,
                    page: 'loto',
                    mode: metaCurrentMode,
                    window: metaWindowSize,
                    years: metaYearsSize
                });
            }

            // Point d'entr√©e unique : sponsor-popup75.js
            if (typeof showMetaAnalysePopup === 'function') {
                showMetaAnalysePopup();
            } else {
                console.warn('[META ANALYSE] Module sponsor-popup75.js non charg√©');
            }
        });
    })();
    </script>
    <script src="/ui/static/app.js?v=7"></script>
    <script src="/ui/static/scroll.js?v=7"></script>
    <script src="/ui/static/faq.js?v=7"></script>
    <script src="/ui/static/cookie-consent.js?v=7"></script>

    <!-- HYBRIDE Chatbot Widget -->
    <div id="hybride-chatbot-root"></div>
    <link rel="stylesheet" href="/ui/static/hybride-chatbot.css?v=2">
    <script src="/ui/static/hybride-chatbot.js?v=2"></script>
</body>
</html>
